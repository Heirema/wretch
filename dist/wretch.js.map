{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///wretch.js","webpack:///webpack/bootstrap ec8dbb9c50fa22998035","webpack:///./src/index.ts","webpack:///(webpack)/buildin/global.js","webpack:///./src/mix.ts","webpack:///external \"url\""],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_3__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","value","global","Wretcher","__WEBPACK_IMPORTED_MODULE_0__mix__","__assign","assign","t","arguments","length","self","URLSearchParams","url","opts","defaults","errorType","_url","_options","mixdefaults","method","options","query","qp","appendQueryParams","accept","what","headers","Accept","doFetch","delete","put","post","patch","json","jsObject","Content-Type","body","JSON","stringify","formData","obj","FormData","key","Array","_i","_a","item","append","usp","index","indexOf","substring","toString","req","fetch","wrapper","then","response","ok","_","err","Error","status","catchers","doCatch","reduce","accumulator","catcher","catch","responseTypes","res","blob","arrayBuffer","text","error","code","cb","push","badRequest","unauthorized","forbidden","notFound","timeout","internalError","g","Function","eval","e","window","mix","one","two","mergeArrays","clone","prop","concat"],"mappings":"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","file":"wretch.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"url\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"url\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"wretch\"] = factory(require(\"url\"));\n\telse\n\t\troot[\"wretch\"] = factory(root[\"url\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_3__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"url\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"url\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"wretch\"] = factory(require(\"url\"));\n\telse\n\t\troot[\"wretch\"] = factory(root[\"url\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_3__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Wretcher\", function() { return Wretcher; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__mix__ = __webpack_require__(2);\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\n\r\nif (typeof self === \"undefined\") {\r\n    global.URLSearchParams = __webpack_require__(3).URLSearchParams;\r\n}\r\n/**\r\n * Return a fresh Wretcher instance.\r\n */\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (url, opts) {\r\n    if (url === void 0) { url = \"\"; }\r\n    if (opts === void 0) { opts = {}; }\r\n    return new Wretcher(url, opts);\r\n});;\r\n// Default options\r\nvar defaults = {};\r\nvar errorType = null;\r\n/**\r\n * The Wretcher class used to perform easy fetch requests.\r\n *\r\n * Almost every method of this class return a fresh Wretcher object.\r\n */\r\nvar Wretcher = /** @class */ (function () {\r\n    function Wretcher(_url, _options) {\r\n        if (_options === void 0) { _options = {}; }\r\n        this._url = _url;\r\n        this._options = _options;\r\n    }\r\n    /**\r\n     * Sets the default fetch options used for every subsequent fetch call.\r\n     * @param opts New default options\r\n     */\r\n    Wretcher.prototype.defaults = function (opts) {\r\n        defaults = opts;\r\n        return this;\r\n    };\r\n    /**\r\n     * Mixins the default fetch options used for every subsequent fetch calls.\r\n     * @param opts Options to mixin with the current default options\r\n     */\r\n    Wretcher.prototype.mixdefaults = function (opts) {\r\n        defaults = Object(__WEBPACK_IMPORTED_MODULE_0__mix__[\"a\" /* mix */])(defaults, opts);\r\n        return this;\r\n    };\r\n    /**\r\n     * Sets the method (text, json ...) used to parse the data contained in the response body in case of an HTTP error.\r\n     *\r\n     * Persists for every subsequent requests.\r\n     *\r\n     * Default is \"text\".\r\n     */\r\n    Wretcher.prototype.errorType = function (method) {\r\n        errorType = method;\r\n        return this;\r\n    };\r\n    /**\r\n     * Returns a new Wretcher object with the url specified and the same options.\r\n     * @param url String url\r\n     */\r\n    Wretcher.prototype.url = function (url) {\r\n        return new Wretcher(url, this._options);\r\n    };\r\n    /**\r\n     * Returns a new Wretcher object with the same url and new options.\r\n     * @param options New options\r\n     */\r\n    Wretcher.prototype.options = function (options) {\r\n        return new Wretcher(this._url, options);\r\n    };\r\n    /**\r\n     * Converts a javascript object to query parameters,\r\n     * then appends this query string to the current url.\r\n     *\r\n     * ```\r\n     * let w = wretch(\"http://example.com\") // url is http://example.com\r\n     * w = w.query({ a: 1, b : 2 }) // url is now http://example.com?a=1&b=2\r\n     * ```\r\n     *\r\n     * @param qp An object which will be converted.\r\n     */\r\n    Wretcher.prototype.query = function (qp) {\r\n        return new Wretcher(appendQueryParams(this._url, qp), this._options);\r\n    };\r\n    /**\r\n     * Shortcut to set the \"Accept\" header.\r\n     * @param what Header value\r\n     */\r\n    Wretcher.prototype.accept = function (what) {\r\n        return new Wretcher(this._url, Object(__WEBPACK_IMPORTED_MODULE_0__mix__[\"a\" /* mix */])(this._options, { headers: { \"Accept\": what } }));\r\n    };\r\n    /**\r\n    * Performs a get request.\r\n    */\r\n    Wretcher.prototype.get = function (opts) {\r\n        if (opts === void 0) { opts = {}; }\r\n        return doFetch(this._url)(Object(__WEBPACK_IMPORTED_MODULE_0__mix__[\"a\" /* mix */])(opts, this._options));\r\n    };\r\n    /**\r\n    * Performs a delete request.\r\n    */\r\n    Wretcher.prototype.delete = function (opts) {\r\n        if (opts === void 0) { opts = {}; }\r\n        return doFetch(this._url)(__assign({}, Object(__WEBPACK_IMPORTED_MODULE_0__mix__[\"a\" /* mix */])(opts, this._options), { method: \"DELETE\" }));\r\n    };\r\n    /**\r\n    * Performs a put request.\r\n    */\r\n    Wretcher.prototype.put = function (opts) {\r\n        if (opts === void 0) { opts = {}; }\r\n        return doFetch(this._url)(__assign({}, Object(__WEBPACK_IMPORTED_MODULE_0__mix__[\"a\" /* mix */])(opts, this._options), { method: \"PUT\" }));\r\n    };\r\n    /**\r\n    * Performs a post request.\r\n    */\r\n    Wretcher.prototype.post = function (opts) {\r\n        if (opts === void 0) { opts = {}; }\r\n        return doFetch(this._url)(__assign({}, Object(__WEBPACK_IMPORTED_MODULE_0__mix__[\"a\" /* mix */])(opts, this._options), { method: \"POST\" }));\r\n    };\r\n    /**\r\n    * Performs a patch request.\r\n    */\r\n    Wretcher.prototype.patch = function (opts) {\r\n        if (opts === void 0) { opts = {}; }\r\n        return doFetch(this._url)(__assign({}, Object(__WEBPACK_IMPORTED_MODULE_0__mix__[\"a\" /* mix */])(opts, this._options), { method: \"PATCH\" }));\r\n    };\r\n    /**\r\n     * Sets the content type header, stringifies an object and sets the request body.\r\n     * @param obj An object\r\n     */\r\n    Wretcher.prototype.json = function (jsObject) {\r\n        return new Wretcher(this._url, __assign({}, this._options, { headers: { \"Content-Type\": \"application/json\" }, body: JSON.stringify(jsObject) }));\r\n    };\r\n    /**\r\n     * Converts the javascript object to a FormData and sets the request body.\r\n     * @param obj An object\r\n     */\r\n    Wretcher.prototype.formData = function (obj) {\r\n        var formData = new FormData();\r\n        for (var key in obj) {\r\n            if (obj[key] instanceof Array) {\r\n                for (var _i = 0, _a = obj[key]; _i < _a.length; _i++) {\r\n                    var item = _a[_i];\r\n                    formData.append(key + \"[]\", item);\r\n                }\r\n            }\r\n            else {\r\n                formData.append(key, obj[key]);\r\n            }\r\n        }\r\n        return new Wretcher(this._url, __assign({}, this._options, { body: formData }));\r\n    };\r\n    return Wretcher;\r\n}());\r\n\r\n// Internal helpers\r\nvar appendQueryParams = function (url, qp) {\r\n    var usp = new URLSearchParams();\r\n    var index = url.indexOf(\"?\");\r\n    for (var key in qp) {\r\n        usp.append(key, qp[key]);\r\n    }\r\n    return ~index ?\r\n        url.substring(0, index) + \"?\" + usp.toString() :\r\n        url + \"?\" + usp.toString();\r\n};\r\nvar doFetch = function (url) { return function (opts) {\r\n    if (opts === void 0) { opts = {}; }\r\n    var req = fetch(url, Object(__WEBPACK_IMPORTED_MODULE_0__mix__[\"a\" /* mix */])(defaults, opts));\r\n    var wrapper = req.then(function (response) {\r\n        if (!response.ok) {\r\n            return response[errorType || \"text\"]().then(function (_) {\r\n                var err = new Error(_);\r\n                err[errorType] = _;\r\n                err[\"status\"] = response.status;\r\n                err[\"response\"] = response;\r\n                throw err;\r\n            });\r\n        }\r\n        return response;\r\n    });\r\n    var catchers = [];\r\n    var doCatch = function (req) { return catchers.reduce(function (accumulator, catcher) { return accumulator.catch(catcher); }, req); };\r\n    var responseTypes = {\r\n        /**\r\n         * Retrieves the raw result as a promise.\r\n         */\r\n        res: function () { return doCatch(wrapper); },\r\n        /**\r\n         * Retrieves the result as a parsed JSON object.\r\n         */\r\n        json: function () { return doCatch(wrapper.then(function (_) { return _ && _.json(); })); },\r\n        /**\r\n         * Retrieves the result as a Blob object.\r\n         */\r\n        blob: function () { return doCatch(wrapper.then(function (_) { return _ && _.blob(); })); },\r\n        /**\r\n         * Retrieves the result as a FormData object.\r\n         */\r\n        formData: function () { return doCatch(wrapper.then(function (_) { return _ && _.formData(); })); },\r\n        /**\r\n         * Retrieves the result as an ArrayBuffer object.\r\n         */\r\n        arrayBuffer: function () { return doCatch(wrapper.then(function (_) { return _ && _.arrayBuffer(); })); },\r\n        /**\r\n         * Retrieves the result as a string.\r\n         */\r\n        text: function () { return doCatch(wrapper.then(function (_) { return _ && _.text(); })); },\r\n        /**\r\n         * Catches an http response with a specific error code and performs a callback.\r\n         */\r\n        error: function (code, cb) {\r\n            catchers.push(function (err) {\r\n                if (err.status === code)\r\n                    cb(err);\r\n                else\r\n                    throw err;\r\n            });\r\n            return responseTypes;\r\n        },\r\n        /**\r\n         * Catches a bad request (http code 400) and performs a callback.\r\n         */\r\n        badRequest: function (cb) { return responseTypes.error(400, cb); },\r\n        /**\r\n         * Catches an unauthorized request (http code 401) and performs a callback.\r\n         */\r\n        unauthorized: function (cb) { return responseTypes.error(401, cb); },\r\n        /**\r\n         * Catches a forbidden request (http code 403) and performs a callback.\r\n         */\r\n        forbidden: function (cb) { return responseTypes.error(403, cb); },\r\n        /**\r\n         * Catches a \"not found\" request (http code 404) and performs a callback.\r\n         */\r\n        notFound: function (cb) { return responseTypes.error(404, cb); },\r\n        /**\r\n         * Catches a timeout (http code 408) and performs a callback.\r\n         */\r\n        timeout: function (cb) { return responseTypes.error(408, cb); },\r\n        /**\r\n         * Catches an internal server error (http code 500) and performs a callback.\r\n         */\r\n        internalError: function (cb) { return responseTypes.error(500, cb); }\r\n    };\r\n    return responseTypes;\r\n}; };\r\n\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(1)))\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nvar g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return mix; });\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nvar mix = function (one, two, mergeArrays) {\r\n    if (mergeArrays === void 0) { mergeArrays = false; }\r\n    if (!one || !two || typeof one !== \"object\" || typeof two !== \"object\")\r\n        return one;\r\n    var clone = __assign({}, one, two);\r\n    for (var prop in two) {\r\n        if (two.hasOwnProperty(prop)) {\r\n            if (two[prop] instanceof Array && one[prop] instanceof Array) {\r\n                clone[prop] = mergeArrays ? one[prop].concat(two[prop]) : clone[prop] = two[prop];\r\n            }\r\n            else if (typeof two[prop] === \"object\" && typeof one[prop] === \"object\") {\r\n                clone[prop] = mix(one[prop], two[prop], mergeArrays);\r\n            }\r\n        }\r\n    }\r\n    return clone;\r\n};\r\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n/***/ })\n/******/ ])[\"default\"];\n});\n\n\n// WEBPACK FOOTER //\n// wretch.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ec8dbb9c50fa22998035","import { mix } from \"./mix\"\n\n// URLSearchParams for node.js\ndeclare const global\ndeclare const require\nif(typeof self === \"undefined\") {\n    global.URLSearchParams = require(\"url\").URLSearchParams\n}\n\n/**\n * Return a fresh Wretcher instance.\n */\nexport default (url = \"\", opts = {}) => new Wretcher(url, opts)\n\n// Default options\nlet defaults = {}\nlet errorType = null\n\n/**\n * The Wretcher class used to perform easy fetch requests.\n *\n * Almost every method of this class return a fresh Wretcher object.\n */\nexport class Wretcher {\n\n    constructor(\n        private _url: string,\n        private _options = {}) {}\n\n    /**\n     * Sets the default fetch options used for every subsequent fetch call.\n     * @param opts New default options\n     */\n    defaults(opts) {\n        defaults = opts\n        return this\n    }\n\n    /**\n     * Mixins the default fetch options used for every subsequent fetch calls.\n     * @param opts Options to mixin with the current default options\n     */\n    mixdefaults(opts) {\n        defaults = mix(defaults, opts)\n        return this\n    }\n\n    /**\n     * Sets the method (text, json ...) used to parse the data contained in the response body in case of an HTTP error.\n     *\n     * Persists for every subsequent requests.\n     *\n     * Default is \"text\".\n     */\n    errorType(method) {\n        errorType = method\n        return this\n    }\n\n    /**\n     * Returns a new Wretcher object with the url specified and the same options.\n     * @param url String url\n     */\n    url(url: string) {\n        return new Wretcher(url, this._options)\n    }\n\n    /**\n     * Returns a new Wretcher object with the same url and new options.\n     * @param options New options\n     */\n    options(options: Object) {\n        return new Wretcher(this._url, options)\n    }\n\n    /**\n     * Converts a javascript object to query parameters,\n     * then appends this query string to the current url.\n     *\n     * ```\n     * let w = wretch(\"http://example.com\") // url is http://example.com\n     * w = w.query({ a: 1, b : 2 }) // url is now http://example.com?a=1&b=2\n     * ```\n     *\n     * @param qp An object which will be converted.\n     */\n    query(qp: Object) {\n        return new Wretcher(appendQueryParams(this._url, qp), this._options)\n    }\n\n    /**\n     * Shortcut to set the \"Accept\" header.\n     * @param what Header value\n     */\n    accept(what: string) {\n        return new Wretcher(this._url, mix(this._options, { headers: { \"Accept\" : what }}))\n    }\n\n    /**\n    * Performs a get request.\n    */\n    get(opts = {}) {\n        return doFetch(this._url)(mix(opts, this._options))\n    }\n    /**\n    * Performs a delete request.\n    */\n    delete(opts = {}) {\n        return doFetch(this._url)({ ...mix(opts, this._options), method: \"DELETE\" })\n    }\n    /**\n    * Performs a put request.\n    */\n    put(opts = {}) {\n        return doFetch(this._url)({ ...mix(opts, this._options), method: \"PUT\" })\n    }\n    /**\n    * Performs a post request.\n    */\n    post(opts = {}) {\n        return doFetch(this._url)({ ...mix(opts, this._options), method: \"POST\" })\n    }\n    /**\n    * Performs a patch request.\n    */\n    patch(opts = {}) {\n        return doFetch(this._url)({ ...mix(opts, this._options), method: \"PATCH\" })\n    }\n\n    /**\n     * Sets the content type header, stringifies an object and sets the request body.\n     * @param obj An object\n     */\n    json(jsObject) {\n        return new Wretcher(this._url,\n            { \n                ...this._options,\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify(jsObject)\n            })\n    }\n    /**\n     * Converts the javascript object to a FormData and sets the request body.\n     * @param obj An object\n     */\n    formData(obj) {\n        const formData = new FormData()\n        for(const key in obj) {\n            if(obj[key] instanceof Array) {\n                for(const item of obj[key])\n                    formData.append(key + \"[]\", item)\n            } else {\n                formData.append(key, obj[key])\n            }\n        }\n\n        return new Wretcher(this._url,\n            { \n                ...this._options,\n                body: formData\n            })\n    }\n}\n\n// Internal helpers\n\nconst appendQueryParams = (url: string, qp: Object) => {\n    const usp = new URLSearchParams()\n    const index = url.indexOf(\"?\")\n    for(const key in qp) {\n        usp.append(key, qp[key])\n    }\n    return ~index ?\n        `${url.substring(0, index)}?${usp.toString()}` :\n        `${url}?${usp.toString()}`\n}\n\nconst doFetch = url => (opts = {}) => {\n    const req = fetch(url, mix(defaults, opts))\n    let wrapper : Promise<void | Response> = req.then(response => {\n        if (!response.ok) {\n            return response[errorType || \"text\"]().then(_ => {\n                const err = new Error(_)\n                err[errorType] = _\n                err[\"status\"] = response.status\n                err[\"response\"] = response\n                throw err\n            })\n        }\n        return response\n    })\n    let catchers = []\n    const doCatch = req => catchers.reduce((accumulator, catcher) => accumulator.catch(catcher), req)\n    const responseTypes = {\n        /**\n         * Retrieves the raw result as a promise.\n         */\n        res:  () => doCatch(wrapper),\n        /**\n         * Retrieves the result as a parsed JSON object.\n         */\n        json: () => doCatch(wrapper.then(_ => _ && _.json())),\n        /**\n         * Retrieves the result as a Blob object.\n         */\n        blob: () => doCatch(wrapper.then(_ => _ && _.blob())),\n        /**\n         * Retrieves the result as a FormData object.\n         */\n        formData: () => doCatch(wrapper.then(_ => _ && _.formData())),\n        /**\n         * Retrieves the result as an ArrayBuffer object.\n         */\n        arrayBuffer: () => doCatch(wrapper.then(_ => _ && _.arrayBuffer())),\n        /**\n         * Retrieves the result as a string.\n         */\n        text: () => doCatch(wrapper.then(_ => _ && _.text())),\n        /**\n         * Catches an http response with a specific error code and performs a callback.\n         */\n        error: (code: number, cb) => {\n            catchers.push(err => {\n                if(err.status === code) cb(err)\n                else throw err\n            })\n            return responseTypes\n        },\n        /**\n         * Catches a bad request (http code 400) and performs a callback.\n         */\n        badRequest: cb => responseTypes.error(400, cb),\n        /**\n         * Catches an unauthorized request (http code 401) and performs a callback.\n         */\n        unauthorized: cb => responseTypes.error(401, cb),\n        /**\n         * Catches a forbidden request (http code 403) and performs a callback.\n         */\n        forbidden: cb => responseTypes.error(403, cb),\n        /**\n         * Catches a \"not found\" request (http code 404) and performs a callback.\n         */\n        notFound: cb => responseTypes.error(404, cb),\n        /**\n         * Catches a timeout (http code 408) and performs a callback.\n         */\n        timeout: cb => responseTypes.error(408, cb),\n        /**\n         * Catches an internal server error (http code 500) and performs a callback.\n         */\n        internalError: cb => responseTypes.error(500, cb)\n    }\n\n    return responseTypes\n}\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 1\n// module chunks = 0","export const mix = function(one: Object, two: Object, mergeArrays: boolean = false) {\n    if(!one || !two || typeof one !== \"object\" || typeof two !== \"object\")\n        return one\n\n    const clone = { ...one, ...two }\n    for(const prop in two) {\n        if(two.hasOwnProperty(prop)) {\n            if(two[prop] instanceof Array && one[prop] instanceof Array) {\n                clone[prop] = mergeArrays ? [ ...one[prop], ...two[prop] ] : clone[prop] = two[prop]\n            } else if(typeof two[prop] === \"object\" && typeof one[prop] === \"object\") {\n                clone[prop] = mix(one[prop], two[prop], mergeArrays)\n            }\n        }\n    }\n\n    return clone\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/mix.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"url\"\n// module id = 3\n// module chunks = 0"],"sourceRoot":""}